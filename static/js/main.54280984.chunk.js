(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),c=n(9),a=n.n(c),i=(n(16),n(2));function u(e){var t=e.color,n=o.a.useMemo(function(){return function(e){return{backgroundColor:e}}(t)},[t]);return o.a.createElement("div",{style:n})}var f=n(6);function b(e,t){return{x:e,y:t}}var l,s,v,O,j,d,p,w,g=n(10),h=n(0),m=n(3),y={L:"L",I:"I",T:"T",S:"S",Z:"Z",O:"O",J:"J"},L={Up:0,Right:1,Down:2,Left:3};function R(e){return{type:e,orientation:L.Up}}function E(e){return x[e.type][e.orientation]}function k(e){return Object(m.a)({},e,{orientation:(t=e.orientation,(t+1)%4)});var t}var x=(w={},Object(h.a)(w,y.L,(l={},Object(h.a)(l,L.Up,[[0,0,1],[1,1,1],[0,0,0]]),Object(h.a)(l,L.Right,[[0,1,0],[0,1,0],[0,1,1]]),Object(h.a)(l,L.Down,[[0,0,0],[1,1,1],[1,0,0]]),Object(h.a)(l,L.Left,[[1,1,0],[0,1,0],[0,1,0]]),l)),Object(h.a)(w,y.I,(s={},Object(h.a)(s,L.Up,[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]]),Object(h.a)(s,L.Right,[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]]),Object(h.a)(s,L.Down,[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]]),Object(h.a)(s,L.Left,[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]),s)),Object(h.a)(w,y.T,(v={},Object(h.a)(v,L.Up,[[0,1,0],[1,1,1],[0,0,0]]),Object(h.a)(v,L.Right,[[0,1,0],[0,1,1],[0,1,0]]),Object(h.a)(v,L.Down,[[0,0,0],[1,1,1],[0,1,0]]),Object(h.a)(v,L.Left,[[0,1,0],[1,1,0],[0,1,0]]),v)),Object(h.a)(w,y.S,(O={},Object(h.a)(O,L.Up,[[0,1,1],[1,1,0],[0,0,0]]),Object(h.a)(O,L.Right,[[0,1,0],[0,1,1],[0,0,1]]),Object(h.a)(O,L.Down,[[0,0,0],[0,1,1],[1,1,0]]),Object(h.a)(O,L.Left,[[1,0,0],[1,1,0],[0,1,0]]),O)),Object(h.a)(w,y.Z,(j={},Object(h.a)(j,L.Up,[[1,1,0],[0,1,1],[0,0,0]]),Object(h.a)(j,L.Right,[[0,0,1],[0,1,1],[0,1,0]]),Object(h.a)(j,L.Down,[[0,0,0],[1,1,0],[0,1,1]]),Object(h.a)(j,L.Left,[[0,1,0],[1,1,0],[1,0,0]]),j)),Object(h.a)(w,y.O,(d={},Object(h.a)(d,L.Up,[[1,1],[1,1]]),Object(h.a)(d,L.Right,[[1,1],[1,1]]),Object(h.a)(d,L.Down,[[1,1],[1,1]]),Object(h.a)(d,L.Left,[[1,1],[1,1]]),d)),Object(h.a)(w,y.J,(p={},Object(h.a)(p,L.Up,[[1,0,0],[1,1,1],[0,0,0]]),Object(h.a)(p,L.Right,[[0,1,1],[0,1,0],[0,1,0]]),Object(h.a)(p,L.Down,[[0,0,0],[1,1,1],[0,0,1]]),Object(h.a)(p,L.Left,[[0,1,0],[0,1,0],[1,1,0]]),p)),w);function D(){return Object(f.shuffle)(Object.keys(y))}function M(e){var t=Object(g.a)(e),n=t[0],r=t.slice(1);return r.length>0?[n,r]:[n,D()]}function U(e,t,n,r){for(var o=E(t),c=e.slice(),a=0;a<o.length;a++)for(var i=0;i<o[a].length;i++){if(0!==o[a][i])c[J(b(n.x+i,n.y+a))]=r}return c}function T(e,t,n){var r=b(n.x-1,n.y);return A(e,t,r)?r:n}function I(e,t,n){var r=b(n.x+1,n.y);return A(e,t,r)?r:n}function S(e,t,n){return A(e,k(t),n)?k(t):t}function A(e,t,n){for(var r=E(t),o=0;o<r.length;o++)for(var c=0;c<r[o].length;c++)if(0!==r[o][c]){if(n.x+c<0||n.x+c>9)return!1;if(n.y+o<0||n.y+o>19)return!1;if(1===e[J(b(n.x+c,n.y+o))])return!1}return!0}function J(e){return e.x+10*e.y}function z(e){var t=U(e.board,e.current,e.position,2);return o.a.createElement("div",{style:Z.container},t.map(function(e,t){return o.a.createElement(u,{color:B[e],key:"".concat(t,"-").concat(e)})}))}var Z={container:{borderBottom:"1px solid grey",display:"grid",gridTemplateColumns:"repeat(10, 1fr)",height:400,width:200}},B={0:"black",1:"dodgerblue",2:"limegreen"};function C(e){var t=e.level,n=e.score;return o.a.createElement("div",null,o.a.createElement("div",null,"Level: ",t),o.a.createElement("div",null,"Score: ",n))}function q(e,t){o.a.useEffect(function(){function n(n){n.key===e&&t(n)}return document.addEventListener("keydown",n),function(){return document.removeEventListener("keyup",n)}},[e])}var F=M(D()),G=Object(i.a)(F,2),H=G[0],K=G[1],N={MoveDown:"down",MoveLeft:"left",MoveRight:"right",Reset:"reset",Rotate:"rotate",Start:"start",Stop:"stop",Tick:"tick"},P={board:Object(f.fill)(new Array(200),0,0),current:R(H),interval:750,level:1,position:b(3,0),randomizer:K,score:0,state:0};function Q(e,t){switch(t){case N.Tick:case N.MoveDown:var n=function(e,t,n,r){var o=b(n.x,n.y+1);if(A(e,t,o))return[e,t,o,r];var c=U(e,t,n,1),a=M(r),u=Object(i.a)(a,2),f=u[0],l=u[1];return[c,R(f),b(3,0),l]}(e.board,e.current,e.position,e.randomizer),r=Object(i.a)(n,4),o=r[0],c=r[1],a=r[2],u=r[3];return Object(m.a)({},e,{board:o,current:c,position:a,randomizer:u});case N.MoveLeft:return Object(m.a)({},e,{position:T(e.board,e.current,e.position)});case N.MoveRight:return Object(m.a)({},e,{position:I(e.board,e.current,e.position)});case N.Rotate:return Object(m.a)({},e,{current:S(e.board,e.current,e.position)});default:return e}}var V={container:{display:"flex"}};a.a.render(o.a.createElement(function(){var e=o.a.useReducer(Q,P),t=Object(i.a)(e,2),n=t[0],r=t[1];return q("ArrowUp",function(){return r(N.Rotate)}),q("ArrowDown",function(){return r(N.MoveDown)}),q("ArrowLeft",function(){return r(N.MoveLeft)}),q("ArrowRight",function(){return r(N.MoveRight)}),function(e,t){var n=o.a.useRef();o.a.useEffect(function(){n.current=t},[t]),o.a.useEffect(function(){if(null!=e){var t=setInterval(function(){n.current()},e);return function(){return clearInterval(t)}}},[e])}(n.interval,function(){return r(N.Tick)}),o.a.createElement("div",{style:V.container},o.a.createElement(z,{board:n.board,current:n.current,position:n.position}),o.a.createElement(C,{level:n.level,score:n.score}))}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.54280984.chunk.js.map